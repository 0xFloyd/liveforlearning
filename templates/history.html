{% extends "layout.html" %}

{% block title %}
    Portfolio
{% endblock %}

{% block main %}
    <table class="table">
        <thead>
            <th>Transaction</th>
            <th>Stock</th>
            <th>Shares</th>
            <th>Price</th>
            <th>Total</th>
            <th>Date</th>
        </thead>
        <tbody>
            {% for x in user_transactions %}
            <tr>
                {% if x.shares > 0 %}
                    <td>Purchased</td>
                    <td>{{ x.stock }}</td>
                    <td>{{ x.shares }}</td>
                    <td>{{ x.price | usd }}</td>
                    <td>{{ (x.shares * x.price) | usd }}</td>
                    <td>{{ x.time }}</td>
                {% else %}
                    <td>Sold</td>
                    <td>{{ x.stock }}</td>
                    <td>{{ -x.shares }}</td>
                    <td>{{ x.price | usd }}</td>
                    <td>{{ (-x.shares * x.price) | usd }}</td>
                    <td>{{ x.time }}</td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}
